<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.emgram.noticeboard.Dao.dao">
    <select id="getPostsList" resultType="com.emgram.noticeboard.Model.PostModel">
        SELECT b.*, u.name FROM noticeBoard b, user u WHERE b.id = u.id 
    </select>
    <select id="getPost" parameterType="int" resultType="com.emgram.noticeboard.Model.PostModel">
   		SELECT b.*, u.name FROM noticeBoard b,user u WHERE b.id = u.id AND postindex=${index}
   	</select>
    <select id="getLogin" parameterType = "String" resultType="com.emgram.noticeboard.Model.UserModel">
    	SELECT * FROM user WHERE id="${id}" AND pw="${pw}"
   	</select>
   	<insert id="getSignup" parameterType = "com.emgram.noticeboard.Model.UserModel">
   		INSERT INTO user VALUES ("${id}","${name}","${pw}",${permission})
   	</insert>
   	<insert id="writePost" parameterType = "String">
   		INSERT INTO noticeboard (title, content, id) VALUES ("${title}", "${content}", "${id}")
   	</insert>
</mapper>

